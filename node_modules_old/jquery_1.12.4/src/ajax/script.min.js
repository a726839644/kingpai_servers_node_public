define(["../core","../var/document","../ajax"],function(b,a){b.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(c){b.globalEval(c);return c}}});b.ajaxPrefilter("script",function(c){if(c.cache===undefined){c.cache=false}if(c.crossDomain){c.type="GET";c.global=false}});b.ajaxTransport("script",function(e){if(e.crossDomain){var c,d=a.head||b("head")[0]||a.documentElement;return{send:function(f,g){c=a.createElement("script");c.async=true;if(e.scriptCharset){c.charset=e.scriptCharset}c.src=e.url;c.onload=c.onreadystatechange=function(i,h){if(h||!c.readyState||/loaded|complete/.test(c.readyState)){c.onload=c.onreadystatechange=null;if(c.parentNode){c.parentNode.removeChild(c)}c=null;if(!h){g(200,"success")}}};d.insertBefore(c,d.firstChild)},abort:function(){if(c){c.onload(undefined,true)}}}}})});