define(["../core","../core/access","./support","../var/rnotwhite","./val","../selector"],function(j,b,h,i){var d,a,e=j.expr.attrHandle,c=/^(?:checked|selected)$/i,g=h.getSetAttribute,f=h.input;j.fn.extend({attr:function(k,l){return b(this,j.attr,k,l,arguments.length>1)},removeAttr:function(k){return this.each(function(){j.removeAttr(this,k)})}});j.extend({attr:function(o,n,p){var m,k,l=o.nodeType;if(l===3||l===8||l===2){return}if(typeof o.getAttribute==="undefined"){return j.prop(o,n,p)}if(l!==1||!j.isXMLDoc(o)){n=n.toLowerCase();k=j.attrHooks[n]||(j.expr.match.bool.test(n)?a:d)}if(p!==undefined){if(p===null){j.removeAttr(o,n);return}if(k&&"set" in k&&(m=k.set(o,p,n))!==undefined){return m}o.setAttribute(n,p+"");return p}if(k&&"get" in k&&(m=k.get(o,n))!==null){return m}m=j.find.attr(o,n);return m==null?undefined:m},attrHooks:{type:{set:function(k,l){if(!h.radioValue&&l==="radio"&&j.nodeName(k,"input")){var m=k.value;k.setAttribute("type",l);if(m){k.value=m}return l}}}},removeAttr:function(m,o){var k,n,l=0,p=o&&o.match(i);if(p&&m.nodeType===1){while((k=p[l++])){n=j.propFix[k]||k;if(j.expr.match.bool.test(k)){if(f&&g||!c.test(k)){m[n]=false}else{m[j.camelCase("default-"+k)]=m[n]=false}}else{j.attr(m,k,"")}m.removeAttribute(g?k:n)}}}});a={set:function(l,m,k){if(m===false){j.removeAttr(l,k)}else{if(f&&g||!c.test(k)){l.setAttribute(!g&&j.propFix[k]||k,k)}else{l[j.camelCase("default-"+k)]=l[k]=true}}return k}};j.each(j.expr.match.bool.source.match(/\w+/g),function(m,l){var k=e[l]||j.find.attr;if(f&&g||!c.test(l)){e[l]=function(p,o,r){var n,q;if(!r){q=e[o];e[o]=n;n=k(p,o,r)!=null?o.toLowerCase():null;e[o]=q}return n}}else{e[l]=function(o,n,p){if(!p){return o[j.camelCase("default-"+n)]?n.toLowerCase():null}}}});if(!f||!g){j.attrHooks.value={set:function(l,m,k){if(j.nodeName(l,"input")){l.defaultValue=m}else{return d&&d.set(l,m,k)}}}}if(!g){d={set:function(m,n,l){var k=m.getAttributeNode(l);if(!k){m.setAttributeNode((k=m.ownerDocument.createAttribute(l)))}k.value=n+="";if(l==="value"||n===m.getAttribute(l)){return n}}};e.id=e.name=e.coords=function(m,l,n){var k;if(!n){return(k=m.getAttributeNode(l))&&k.value!==""?k.value:null}};j.valHooks.button={get:function(m,l){var k=m.getAttributeNode(l);if(k&&k.specified){return k.value}},set:d.set};j.attrHooks.contenteditable={set:function(l,m,k){d.set(l,m===""?false:m,k)}};j.each(["width","height"],function(l,k){j.attrHooks[k]={set:function(m,n){if(n===""){m.setAttribute(k,"auto");return n}}}})}if(!h.style){j.attrHooks.style={get:function(k){return k.style.cssText||undefined},set:function(k,l){return(k.style.cssText=l+"")}}}});