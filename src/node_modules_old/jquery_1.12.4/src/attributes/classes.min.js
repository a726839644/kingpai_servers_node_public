define(["../core","../var/rnotwhite","../core/init"],function(d,c){var b=/[\t\r\n\f]/g;function a(e){return d.attr(e,"class")||""}d.fn.extend({addClass:function(n){var g,f,o,h,m,k,e,l=0;if(d.isFunction(n)){return this.each(function(i){d(this).addClass(n.call(this,i,a(this)))})}if(typeof n==="string"&&n){g=n.match(c)||[];while((f=this[l++])){h=a(f);o=f.nodeType===1&&(" "+h+" ").replace(b," ");if(o){k=0;while((m=g[k++])){if(o.indexOf(" "+m+" ")<0){o+=m+" "}}e=d.trim(o);if(h!==e){d.attr(f,"class",e)}}}}return this},removeClass:function(n){var g,f,o,h,m,k,e,l=0;if(d.isFunction(n)){return this.each(function(i){d(this).removeClass(n.call(this,i,a(this)))})}if(!arguments.length){return this.attr("class","")}if(typeof n==="string"&&n){g=n.match(c)||[];while((f=this[l++])){h=a(f);o=f.nodeType===1&&(" "+h+" ").replace(b," ");if(o){k=0;while((m=g[k++])){while(o.indexOf(" "+m+" ")>-1){o=o.replace(" "+m+" "," ")}}e=d.trim(o);if(h!==e){d.attr(f,"class",e)}}}}return this},toggleClass:function(g,e){var f=typeof g;if(typeof e==="boolean"&&f==="string"){return e?this.addClass(g):this.removeClass(g)}if(d.isFunction(g)){return this.each(function(h){d(this).toggleClass(g.call(this,h,a(this),e),e)})}return this.each(function(){var k,j,h,l;if(f==="string"){j=0;h=d(this);l=g.match(c)||[];while((k=l[j++])){if(h.hasClass(k)){h.removeClass(k)}else{h.addClass(k)}}}else{if(g===undefined||f==="boolean"){k=a(this);if(k){d._data(this,"__className__",k)}d.attr(this,"class",k||g===false?"":d._data(this,"__className__")||"")}}})},hasClass:function(e){var g,h,f=0;g=" "+e+" ";while((h=this[f++])){if(h.nodeType===1&&(" "+a(h)+" ").replace(b," ").indexOf(g)>-1){return true}}return false}})});