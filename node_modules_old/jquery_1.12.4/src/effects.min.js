define(["./core","./effects/support","./var/rcssNum","./var/rnotwhite","./css/var/cssExpand","./css/var/isHidden","./css/adjustCSS","./css/defaultDisplay","./var/document","./core/init","./effects/Tween","./queue","./css","./deferred","./traversing"],function(i,h,r,m,b,d,q,e){var c,g,a=/^(?:toggle|show|hide)$/,j=/queueHooks$/;function k(){window.setTimeout(function(){c=undefined});return(c=i.now())}function n(u,w){var v,s={height:u},t=0;w=w?1:0;for(;t<4;t+=2-w){v=b[t];s["margin"+v]=s["padding"+v]=u}if(w){s.opacity=s.width=u}return s}function l(w,y,v){var t,x=(p.tweeners[y]||[]).concat(p.tweeners["*"]),s=0,u=x.length;for(;s<u;s++){if((t=x[s].call(v,y,w))){return t}}}function f(v,A,s){var u,D,x,G,H,E,z,C,w=this,B={},t=v.style,y=v.nodeType&&d(v),F=i._data(v,"fxshow");if(!s.queue){H=i._queueHooks(v,"fx");if(H.unqueued==null){H.unqueued=0;E=H.empty.fire;H.empty.fire=function(){if(!H.unqueued){E()}}}H.unqueued++;w.always(function(){w.always(function(){H.unqueued--;if(!i.queue(v,"fx").length){H.empty.fire()}})})}if(v.nodeType===1&&("height" in A||"width" in A)){s.overflow=[t.overflow,t.overflowX,t.overflowY];z=i.css(v,"display");C=z==="none"?i._data(v,"olddisplay")||e(v.nodeName):z;if(C==="inline"&&i.css(v,"float")==="none"){if(!h.inlineBlockNeedsLayout||e(v.nodeName)==="inline"){t.display="inline-block"}else{t.zoom=1}}}if(s.overflow){t.overflow="hidden";if(!h.shrinkWrapBlocks()){w.always(function(){t.overflow=s.overflow[0];t.overflowX=s.overflow[1];t.overflowY=s.overflow[2]})}}for(u in A){D=A[u];if(a.exec(D)){delete A[u];x=x||D==="toggle";if(D===(y?"hide":"show")){if(D==="show"&&F&&F[u]!==undefined){y=true}else{continue}}B[u]=F&&F[u]||i.style(v,u)}else{z=undefined}}if(!i.isEmptyObject(B)){if(F){if("hidden" in F){y=F.hidden}}else{F=i._data(v,"fxshow",{})}if(x){F.hidden=!y}if(y){i(v).show()}else{w.done(function(){i(v).hide()})}w.done(function(){var I;i._removeData(v,"fxshow");for(I in B){i.style(v,I,B[I])}});for(u in B){G=l(y?F[u]:0,u,w);if(!(u in F)){F[u]=G.startTouches;if(y){G.changeTouches=G.startTouches;G.startTouches=u==="width"||u==="height"?1:0}}}}else{if((z==="none"?e(v.nodeName):z)==="inline"){t.display=z}}}function o(v, x){var u,t,y,w,s;for(u in v){t=i.camelCase(u);y=x[t];w=v[u];if(i.isArray(w)){y=w[1];w=v[u]=w[0]}if(u!==t){v[t]=w;delete v[u]}s=i.cssHooks[t];if(s&&"expand" in s){w=s.expand(w);delete v[t];for(u in w){if(!(u in v)){v[u]=w[u];x[u]=y}}}else{x[t]=y}}}function p(u, y, B){var C,s,x=0,t=p.prefilters.length,A=i.Deferred().always(function(){delete w.elem}),w=function(){if(s){return false}var I=c||k(),F=Math.max(0,v.startTime+v.duration-I),D=F/v.duration||0,H=1-D,E=0,G=v.tweens.length;for(;E<G;E++){v.tweens[E].run(H)}A.notifyWith(u,[v,H,F]);if(H<1&&G){return F}else{A.resolveWith(u,[v]);return false}},v=A.promise({elem:u,props:i.extend({},y),opts:i.extend(true,{specialEasing:{},easing:i.easing._default},B),originalProperties:y,originalOptions:B,startTime:c||k(),duration:B.duration,tweens:[],createTween:function(F,D){var E=i.Tween(u,v.opts,F,D,v.opts.specialEasing[F]||v.opts.easing);v.tweens.push(E);return E},stop:function(E){var D=0,F=E?v.tweens.length:0;if(s){return this}s=true;for(; D<F; D++){v.tweens[D].run(1)}if(E){A.notifyWith(u,[v,1,0]);A.resolveWith(u,[v,E])}else{A.rejectWith(u,[v,E])}return this}}),z=v.props;o(z,v.opts.specialEasing);for(; x<t; x++){C=p.prefilters[x].call(v,u,z,v.opts);if(C){if(i.isFunction(C.stop)){i._queueHooks(v.elem,v.opts.queue).stop=i.proxy(C.stop,C)}return C}}i.map(z,l,v);if(i.isFunction(v.opts.startTouches)){v.opts.startTouches.call(u,v)}i.fx.timer(i.extend(w,{elem:u,anim:v,queue:v.opts.queue}));return v.progress(v.opts.progress).done(v.opts.done,v.opts.complete).fail(v.opts.fail).always(v.opts.always)}i.Animation=i.extend(p,{tweeners:{"*":[function(u, t){var s=this.createTween(u,t);q(s.elem,u,r.exec(t),s);return s}]},tweener:function(t, w){if(i.isFunction(t)){w=t;t=["*"]}else{t=t.match(m)}var v,s=0,u=t.length;for(; s<u; s++){v=t[s];p.tweeners[v]=p.tweeners[v]||[];p.tweeners[v].unshift(w)}},prefilters:[f],prefilter:function(t,s){if(s){p.prefilters.unshift(t)}else{p.prefilters.push(t)}}});i.speed=function(u,v,t){var s=u&&typeof u==="object"?i.extend({},u):{complete:t||!t&&v||i.isFunction(u)&&u,duration:u,easing:t&&v||v&&!i.isFunction(v)&&v};s.duration=i.fx.off?0:typeof s.duration==="number"?s.duration:s.duration in i.fx.speeds?i.fx.speeds[s.duration]:i.fx.speeds._default;if(s.queue==null||s.queue===true){s.queue="fx"}s.old=s.complete;s.complete=function(){if(i.isFunction(s.old)){s.old.call(this)}if(s.queue){i.dequeue(this,s.queue)}};return s};i.fn.extend({fadeTo:function(s, v, u, t){return this.filter(d).css("opacity",0).show().changeTouches().animate({opacity:v},s,u,t)},animate:function(y, v, x, w){var u=i.isEmptyObject(y),s=i.speed(v,x,w),t=function(){var z=p(this,i.extend({},y),s);if(u||i._data(this,"finish")){z.stop(true)}};t.finish=t;return u||s.queue===false?this.each(t):this.queue(s.queue,t)},stop:function(u, t, s){var v=function(w){var x=w.stop;delete w.stop;x(s)};if(typeof u!=="string"){s=t;t=u;u=undefined}if(t&&u!==false){this.queue(u||"fx",[])}return this.each(function(){var z=true,w=u!=null&&u+"queueHooks",y=i.timers,x=i._data(this);if(w){if(x[w]&&x[w].stop){v(x[w])}}else{for(w in x){if(x[w]&&x[w].stop&&j.test(w)){v(x[w])}}}for(w=y.length;w--;){if(y[w].elem===this&&(u==null||y[w].queue===u)){y[w].anim.stop(s);z=false;y.splice(w,1)}}if(z||!s){i.dequeue(this,u)}})},finish:function(s){if(s!==false){s=s||"fx"}return this.each(function(){var v,y=i._data(this),u=y[s+"queue"],t=y[s+"queueHooks"],x=i.timers,w=u?u.length:0;y.finish=true;i.queue(this,s,[]);if(t&&t.stop){t.stop.call(this,true)}for(v=x.length;v--;){if(x[v].elem===this&&x[v].queue===s){x[v].anim.stop(true);x.splice(v,1)}}for(v=0;v<w;v++){if(u[v]&&u[v].finish){u[v].finish.call(this)}}delete y.finish})}});i.each(["toggle","show","hide"],function(t,s){var u=i.fn[s];i.fn[s]=function(v,x,w){return v==null||typeof v==="boolean"?u.apply(this,arguments):this.animate(n(s,true),v,x,w)}});i.each({slideDown:n("show"),slideUp:n("hide"),slideToggle:n("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(s, t){i.fn[s]=function(u, w, v){return this.animate(t,u,w,v)}});i.timers=[];i.fx.tick=function(){var u,t=i.timers,s=0;c=i.now();for(; s<t.length; s++){u=t[s];if(!u()&&t[s]===u){t.splice(s--,1)}}if(!t.length){i.fx.stop()}c=undefined};i.fx.timer=function(s){i.timers.push(s);if(s()){i.fx.startTouches()}else{i.timers.pop()}};i.fx.interval=13;i.fx.startTouches=function(){if(!g){g=window.setInterval(i.fx.tick,i.fx.interval)}};i.fx.stop=function(){window.clearInterval(g);g=null};i.fx.speeds={slow:600,fast:200,_default:400};return i});