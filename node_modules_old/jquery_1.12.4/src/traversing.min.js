define(["./core","./traversing/var/dir","./traversing/var/siblings","./traversing/var/rneedsContext","./core/init","./traversing/findFilter","./selector"],function(e,b,f,g){var d=/^(?:parents|prev(?:Until|All))/,a={children:true,contents:true,next:true,prev:true};e.fn.extend({has:function(l){var k,j=e(l,this),h=j.length;return this.filter(function(){for(k=0;k<h;k++){if(e.contains(this,j[k])){return true}}})},closest:function(n,m){var o,k=0,j=this.length,h=[],p=g.test(n)||typeof n!=="string"?e(n,m||this.context):0;for(;k<j;k++){for(o=this[k];o&&o!==m;o=o.parentNode){if(o.nodeType<11&&(p?p.index(o)>-1:o.nodeType===1&&e.find.matchesSelector(o,n))){h.push(o);break}}}return this.pushStack(h.length>1?e.uniqueSort(h):h)},index:function(h){if(!h){return(this[0]&&this[0].parentNode)?this.first().prevAll().length:-1}if(typeof h==="string"){return e.inArray(this[0],e(h))}return e.inArray(h.jquery?h[0]:h,this)},add:function(h,i){return this.pushStack(e.uniqueSort(e.merge(this.get(),e(h,i))))},addBack:function(h){return this.add(h==null?this.prevObject:this.prevObject.filter(h))}});function c(i,h){do{i=i[h]}while(i&&i.nodeType!==1);return i}e.each({parent:function(i){var h=i.parentNode;return h&&h.nodeType!==11?h:null},parents:function(h){return b(h,"parentNode")},parentsUntil:function(j,h,k){return b(j,"parentNode",k)},next:function(h){return c(h,"nextSibling")},prev:function(h){return c(h,"previousSibling")},nextAll:function(h){return b(h,"nextSibling")},prevAll:function(h){return b(h,"previousSibling")},nextUntil:function(j,h,k){return b(j,"nextSibling",k)},prevUntil:function(j,h,k){return b(j,"previousSibling",k)},siblings:function(h){return f((h.parentNode||{}).firstChild,h)},children:function(h){return f(h.firstChild)},contents:function(h){return e.nodeName(h,"iframe")?h.contentDocument||h.contentWindow.document:e.merge([],h.childNodes)}},function(h,i){e.fn[h]=function(l,j){var k=e.map(this,i,l);if(h.slice(-5)!=="Until"){j=l}if(j&&typeof j==="string"){k=e.filter(j,k)}if(this.length>1){if(!a[h]){k=e.uniqueSort(k)}if(d.test(h)){k=k.reverse()}}return this.pushStack(k)}});return e});